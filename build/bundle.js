!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("https://cdn.jsdelivr.net/npm/three@0.118.3/build/three.module.js"),require("https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/libs/stats.module.js"),require("https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/controls/OrbitControls.js"),require("https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/misc/MD2CharacterComplex.js "),require("https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/misc/Gyroscope.js")):"function"==typeof define&&define.amd?define(["exports","https://cdn.jsdelivr.net/npm/three@0.118.3/build/three.module.js","https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/libs/stats.module.js","https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/controls/OrbitControls.js","https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/misc/MD2CharacterComplex.js ","https://cdn.jsdelivr.net/npm/three@0.118.3/examples/jsm/misc/Gyroscope.js"],a):a((e=e||self).MYAPP={},e.THREE,e.Stats,e.OrbitControls_js,e.MD2CharacterComplex_js_,e.Gyroscope_js)}(this,(function(e,a,t,o,r,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var s,d,i,p,c,m,l=window.innerWidth,h=window.innerHeight,w=[],g=0,u={moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1},v=new a.Clock;e.App=class{onWindowResize(){l=window.innerWidth,h=window.innerHeight,c.setSize(l,h),i.aspect=l/h,i.updateProjectionMatrix()}onKeyDown(e){switch(e.stopPropagation(),e.keyCode){case 38:case 87:u.moveForward=!0;break;case 40:case 83:u.moveBackward=!0;break;case 37:case 65:u.moveLeft=!0;break;case 39:case 68:u.moveRight=!0}}onKeyUp(e){switch(e.stopPropagation(),e.keyCode){case 38:case 87:u.moveForward=!1;break;case 40:case 83:u.moveBackward=!1;break;case 37:case 65:u.moveLeft=!1;break;case 39:case 68:u.moveRight=!1}}init(){s=document.createElement("div"),document.body.appendChild(s),(i=new a.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,4e3)).position.set(0,150,1300),(p=new a.Scene).background=new a.Color(16777215),p.fog=new a.Fog(16777215,1e3,4e3),p.add(i),p.add(new a.AmbientLight(2236962));var e=new a.DirectionalLight(16777215,2.25);e.position.set(200,450,500),e.castShadow=!0,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=512,e.shadow.camera.near=100,e.shadow.camera.far=1200,e.shadow.camera.left=-1e3,e.shadow.camera.right=1e3,e.shadow.camera.top=350,e.shadow.camera.bottom=-350,p.add(e);var v=(new a.TextureLoader).load("three/examples/textures/terrain/grasslight-big.jpg"),j=new a.PlaneBufferGeometry(16e3,16e3),b=new a.MeshPhongMaterial({color:16777215,map:v}),f=new a.Mesh(j,b);f.rotation.x=-Math.PI/2,f.material.map.repeat.set(64,64),f.material.map.wrapS=a.RepeatWrapping,f.material.map.wrapT=a.RepeatWrapping,f.material.map.encoding=a.sRGBEncoding,f.receiveShadow=!0,p.add(f),(c=new a.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),c.setSize(l,h),s.appendChild(c.domElement),c.outputEncoding=a.sRGBEncoding,c.shadowMap.enabled=!0,c.shadowMap.type=a.PCFSoftShadowMap,d=new t,s.appendChild(d.dom),window.addEventListener("resize",onWindowResize,!1),document.addEventListener("keydown",onKeyDown,!1),document.addEventListener("keyup",onKeyUp,!1),(m=new o.OrbitControls(i,c.domElement)).target.set(0,50,0),m.update();var k={baseUrl:"models/md2/ogro/",body:"ogro.md2",skins:["grok.jpg","ogrobase.png","arboshak.png","ctf_r.png","ctf_b.png","darkam.png","freedom.png","gib.png","gordogh.png","igdosh.png","khorne.png","nabogro.png","sharokh.png"],weapons:[["weapon.md2","weapon.jpg"]],animations:{move:"run",idle:"stand",jump:"jump",attack:"attack",crouchMove:"cwalk",crouchIdle:"cstand",crouchAttach:"crattack"},walkSpeed:350,crouchSpeed:175},x=k.skins.length;g=1*x;for(var C=0;C<g;C++){var y=new r.MD2CharacterComplex;y.scale=3,y.controls=u,w.push(y)}var M=new r.MD2CharacterComplex;M.scale=3,M.onLoadComplete=function(){for(var a=0,t=0;t<1;t++)for(var o=0;o<x;o++){var r=w[a];r.shareParts(M),r.enableShadows(!0),r.setWeapon(0),r.setSkin(o),r.root.position.x=150*(o-x/2),r.root.position.z=250*t,p.add(r.root),a++}var s=new n.Gyroscope;s.add(i),s.add(e,e.target),w[Math.floor(x/2)].root.add(s)},M.loadParts(k)}animate(){requestAnimationFrame(animate),render(),d.update()}render(){for(var e=v.getDelta(),a=0;a<g;a++)w[a].update(e);c.render(p,i)}},Object.defineProperty(e,"__esModule",{value:!0})}));
